# Викторина
Бот-викторина для Telegram и VK. 

## Как настроить для Telegram
* Создайте файл `.env`, если не создан, и положите в папку со скриптами
* Создать бота и получить токен
* Записать токен в `.env`
* Команда `/start`, чтобы запустить бота
```text
TELEGRAM_TOKEN=token
```

## Как настроить для ВКонтакте
* Создайте файл `.env`, если не создан, и положите в папку со скриптами
* Получите токен в настройках вашего сообщества, запишите его в `.env`
* Разрешите сообществу отправку сообщений
* Включите поддержку ботов и поставьте галочку в пункте `Добавить кнопку "Начать"`
 в `Управление>Сообщения>Настройки для бота`
 ```text
VK_TOKEN=token
```

## Настройки базы данных(Redis)
* Зарегистрируйтесь и создайте базу данных [Redis](https://redislabs.com/)
* Запишите в `.env` параметры вашей БД
```text
REDIS_HOST=host
REDIS_PORT=port
REDIS_PASSWORD=password
```
## Подготовка к запуску 
Выполните команду, чтобы загрузить вопросы-ответы из папки `questions` в БД
```python3
python load_questions_and_answers.py
```
## Как запустить 
Для изоляции проекта используйте [VirtualEnv](https://docs.python.org/3/library/venv.html)

Должен быть установлен `Python3` 

Установить зависимости
```bash
pip install -r requirements.txt
```
Запуск ботов
```python3
python telegram_bot.py  # для Telegram
python vk_bot.py        # для VK
```

## Развертывание на Heroku
* Создайте приложение
* Запишите переменные окружения из файла `.env`
 в `Settings/Config vars/Reveal Config Vars`
* Включите нужного вам бота, кликнув по тумблеру в `Resources/Free Dynos'


